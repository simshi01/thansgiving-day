# План реализации анимаций

## Как выглядят анимации

### Визуальный стиль
- **Фон**: Черный (#000000)
- **Сообщения**: Синие пузыри (#007AFF) в стиле iMessage
- **Размер**: Обычный размер сообщений (макс. ширина 280px)
- **Позиционирование**: Случайные позиции по всему экрану

### Анимация появления
1. **Fade-in**: Плавное появление (opacity 0 → 1)
2. **Blur эффект**: Появление из сильного размытия (blur 40px → 0px)
3. **Длительность**: 1 секунда
4. **Easing**: ease-in-out для плавности

### Время показа сообщения
- **Минимум**: 2 секунды
- **Расчет**: База (2 сек) + длина текста / 50 символов в секунду
- **Максимум**: 8 секунд
- Формула: `Math.max(2, Math.min(2 + text.length / 50, 8))`

### Анимация исчезновения
1. **Fade-out**: Плавное исчезновение (opacity 1 → 0)
2. **Blur эффект**: Исчезновение в размытие (blur 0px → 40px)
3. **Длительность**: 0.5 секунды
4. **Easing**: ease-in-out для плавности
5. **Триггер**: Автоматически после истечения времени показа

### Логика работы
- **Одновременно на экране**: 3-4 сообщения (настраивается через `maxConcurrent`)
- **Задержка между появлениями**: 1-3 секунды (случайная)
- **Цикл**: Когда сообщение исчезает, появляется новое из списка
- **Позиции**: Случайные, с учетом границ экрана и отступов

## Техническая реализация

### Компоненты

1. **MessageBubble** (`components/MessageBubble.tsx`)
   - Отдельное сообщение с анимацией
   - Использует Framer Motion для анимаций
   - Автоматически скрывается после `duration` секунд

2. **MessageContainer** (`components/MessageContainer.tsx`)
   - Управляет пулом активных сообщений
   - Рассчитывает позиции и время показа
   - Добавляет новые сообщения когда освобождается место

### Библиотеки
- **Framer Motion**: Для плавных анимаций
- **React**: Базовый фреймворк
- **Next.js**: Для структуры проекта

## Тестирование

Запусти проект:
```bash
npm install
npm run dev
```

Открой http://localhost:3000 и увидишь тестовые сообщения с анимациями.

### Что проверить:
- ✅ Сообщения появляются плавно
- ✅ Несколько сообщений одновременно
- ✅ Случайные позиции
- ✅ Время показа зависит от длины текста
- ✅ Плавное исчезновение
- ✅ Постоянный цикл без остановок

